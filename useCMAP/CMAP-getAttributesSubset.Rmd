---
title: <center> <h1>  Attribute - Table subset  </h1> </center>  
# author: Aditya Kumar Mishra
output: html_document
# output: github_document
---

```{r setup, include=FALSE}
rm(list=ls())
knitr::opts_chunk$set(echo = TRUE,fig.width=12, fig.height=8,fig.align = "center",
                      out.width = "100%")
rm(list = ls())
library(cmap4r)
library(dplyr)
library(DBI)
```


Use **getSubsetSpaceTimeRange** function to get space-time range summary without downloading the data.

Specify the following parameters to select a subset of data from **CMAP**. 


+ Table Name (table.name)
+ Interest variables  (sel.var)
+ Range variable includes (latitude, longitude, depth, time)

Moreover, use **getSubsetRangeNumVar** function to obtain the summary of all the numeric variable. 


```{r  message=FALSE, warning=FALSE, echo=TRUE}
con <- dbConnect(odbc::odbc(), DSN="CMAP-MSSQL",UID="ArmLab",PWD="ArmLab2018")


## Input: Table name; variable name, space time range information
table.name = 'tblsst_AVHRR_OI_NRT'                    # table name
sel.var = 'sst'                                       # choose variable 
range.var <- list()                                   # Range variable information 
range.var$time <- c('2016-04-30', '2016-04-30')
range.var$lat <- c(10,70)
range.var$lon <- c(-180,-80)



## Space/time/number of observations/summary
tbl.subsetSpaceTimeSummary <- getSubsetSpaceTimeRange(con,table.name,range.var)
print(tbl.subsetSpaceTimeSummary)



# Summary of the data:
tbl.subsetSummary <- getSubsetRangeNumVar(con, table.name, range.var)
print(tbl.subsetSummary)

dbDisconnect(con)
```

